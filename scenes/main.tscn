[gd_scene format=3 uid="uid://cwbc5foggxevb"]

[ext_resource type="PackedScene" uid="uid://bdcyvgmmxlof1" path="res://scenes/game/mask.tscn" id="1_o5qli"]
[ext_resource type="Script" uid="uid://do8bwexv2epqi" path="res://scenes/main.gd" id="1_sugp2"]
[ext_resource type="PackedScene" uid="uid://b1ho6e6qnwxc3" path="res://scenes/ui/game_ui.tscn" id="2_0wfyh"]
[ext_resource type="Texture2D" uid="uid://58ub8yr7fhi6" path="res://assets/sprites/background/asset_background.png" id="2_jyhfs"]
[ext_resource type="Shader" path="res://scenes/main.gdshader" id="2_tipki"]
[ext_resource type="Texture2D" uid="uid://vepvsc0sn6oi" path="res://assets/textures/noiseTexture.png" id="3_85g3d"]
[ext_resource type="PackedScene" uid="uid://dpnfnhfn5f0y7" path="res://scenes/mask_checker.tscn" id="3_tefeu"]
[ext_resource type="Script" uid="uid://bfofpnwvnjtc3" path="res://scenes/timer.gd" id="6_tefeu"]
[ext_resource type="AudioStream" uid="uid://bmaaaf2levnva" path="res://assets/sounds/foirade.mp3" id="9_choun"]
[ext_resource type="Script" uid="uid://37yolwy0nmdc" path="res://scenes/audio_stream_player.gd" id="10_choun"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_85g3d"]
shader = ExtResource("2_tipki")
shader_parameter/NOISE_PATTERN = ExtResource("3_85g3d")
shader_parameter/scroll_speed = 0.05
shader_parameter/deform_intesity = 0.01

[node name="Main" type="Node2D" unique_id=1239285722]
script = ExtResource("1_sugp2")

[node name="Sprite2D" type="Sprite2D" parent="." unique_id=1484604398]
material = SubResource("ShaderMaterial_85g3d")
position = Vector2(602, 503)
scale = Vector2(0.7229166, 0.7229165)
texture = ExtResource("2_jyhfs")

[node name="MaskChecker" parent="." unique_id=1741428356 instance=ExtResource("3_tefeu")]

[node name="Mask" parent="." unique_id=1566539684 instance=ExtResource("1_o5qli")]
position = Vector2(595, 572)

[node name="GameUI" parent="." unique_id=30526492 instance=ExtResource("2_0wfyh")]
custom_minimum_size = Vector2(1920, 1080)
offset_left = 0.0
offset_right = 1920.0
offset_bottom = 1080.0
size_flags_horizontal = 3
size_flags_vertical = 3

[node name="Makers" type="Node2D" parent="." unique_id=1284605401]

[node name="Marker2D" type="Marker2D" parent="Makers" unique_id=2006601071]
position = Vector2(130, 128)

[node name="Marker2D2" type="Marker2D" parent="Makers" unique_id=1829642869]
position = Vector2(1028, 907)

[node name="Timer" type="Timer" parent="." unique_id=237219515]
wait_time = 181.0
script = ExtResource("6_tefeu")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="." unique_id=1028153326]
stream = ExtResource("9_choun")
script = ExtResource("10_choun")

[connection signal="afficher_score" from="." to="GameUI" method="_on_main_afficher_score"]
[connection signal="cacher_masque" from="." to="Mask" method="_on_main_cacher_masque"]
[connection signal="cacher_score" from="." to="GameUI" method="_on_main_cacher_score"]
[connection signal="demarrer_timer" from="." to="Timer" method="_on_main_demarrer_timer"]
[connection signal="modif_score" from="." to="GameUI" method="_on_main_modif_score"]
[connection signal="reset_masque" from="." to="Mask" method="_on_main_reset_masque"]
[connection signal="undo_masque" from="." to="Mask" method="_on_main_undo_masque"]
[connection signal="joue_son" from="MaskChecker" to="AudioStreamPlayer" method="_on_mask_checker_joue_son"]
[connection signal="signal_evaluer_masque" from="Mask" to="." method="_on_mask_signal_evaluer_masque"]
[connection signal="signal_nouvelles_demandes" from="Mask" to="." method="_on_mask_signal_nouvelles_demandes"]
[connection signal="commencer" from="GameUI" to="." method="_on_game_ui_commencer"]
[connection signal="done_pressed" from="GameUI" to="." method="_on_game_ui_done_pressed"]
[connection signal="faire_bruitage" from="GameUI" to="AudioStreamPlayer" method="_on_game_ui_faire_bruitage"]
[connection signal="reset_pressed" from="GameUI" to="." method="_on_game_ui_reset_pressed"]
[connection signal="undo_pressed" from="GameUI" to="." method="_on_game_ui_undo_pressed"]
[connection signal="temps" from="Timer" to="GameUI" method="_on_timer_temps"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
[connection signal="timeout" from="Timer" to="Timer" method="_on_timeout"]
